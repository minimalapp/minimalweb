---
// Production gradient overlays with scroll-based animations
---

<div class="gradient-overlay-left">
  <div class="gradient-noise"></div>
</div>
<div class="gradient-overlay-right">
  <div class="gradient-noise"></div>
</div>

<style is:global>
  .intro-mode .gradient-overlay-left,
  .intro-mode .gradient-overlay-right {
    opacity: 1;
  }

  /* Side Animation Effects - Gradient Overlays - EXACT PRODUCTION CODE */
  .gradient-overlay-left,
  .gradient-overlay-right {
    position: fixed;
    top: 0;
    height: 100%;
    width: 25%; /* Increased width for smoother fade */
    pointer-events: none;
    z-index: 100;
    opacity: 0;
    transition: opacity 0.6s ease;
    overflow: hidden;
  }

  .gradient-overlay-left {
    left: 0;
    mask-image: linear-gradient(90deg, black 0%, black 20%, rgba(0,0,0,0.7) 40%, rgba(0,0,0,0.4) 60%, rgba(0,0,0,0.15) 80%, transparent 100%);
    -webkit-mask-image: linear-gradient(90deg, black 0%, black 20%, rgba(0,0,0,0.7) 40%, rgba(0,0,0,0.4) 60%, rgba(0,0,0,0.15) 80%, transparent 100%);
  }

  .gradient-overlay-right {
    right: 0;
    mask-image: linear-gradient(270deg, black 0%, black 20%, rgba(0,0,0,0.7) 40%, rgba(0,0,0,0.4) 60%, rgba(0,0,0,0.15) 80%, transparent 100%);
    -webkit-mask-image: linear-gradient(270deg, black 0%, black 20%, rgba(0,0,0,0.7) 40%, rgba(0,0,0,0.4) 60%, rgba(0,0,0,0.15) 80%, transparent 100%);
  }

  /* Show gradient overlays when AI mode is active */
  .ai-mode-active .gradient-overlay-left,
  .ai-mode-active .gradient-overlay-right {
    opacity: 0.75; /* 25% less strong */
  }

  /* Lighter initial state for main page fade-in */
  .main-page-mode .gradient-overlay-left,
  .main-page-mode .gradient-overlay-right {
    opacity: 0.6; /* 25% less strong (0.8 * 0.75) */
  }

  /* Time-based animations for intro screen only */
  .intro-mode .gradient-overlay-left::after,
  .intro-mode .gradient-overlay-right::after {
    animation: gradientFlow 15s ease-in-out infinite;
  }

  .intro-mode .gradient-overlay-right::after {
    animation-direction: reverse;
  }

  .intro-mode .gradient-overlay-left::before,
  .intro-mode .gradient-overlay-right::before {
    animation: gradientSwirl 20s linear infinite;
  }

  .intro-mode .gradient-overlay-right::before {
    animation-direction: reverse;
  }

  .intro-mode .gradient-noise {
    animation: noiseShift 30s linear infinite;
  }

  /* Multiple animated gradient blobs for messy organic effect */
  .gradient-overlay-left::after,
  .gradient-overlay-right::after {
    content: '';
    position: absolute;
    width: 200%;
    height: 200%;
    top: -50%;
    background:
      radial-gradient(ellipse 800px 1000px at 10% 30%, rgba(33, 150, 243, 0.3) 0%, rgba(33, 150, 243, 0.15) 20%, rgba(33, 150, 243, 0.05) 40%, rgba(33, 150, 243, 0.01) 60%, transparent 80%),
      radial-gradient(ellipse 600px 800px at 30% 70%, rgba(63, 81, 181, 0.25) 0%, rgba(63, 81, 181, 0.1) 25%, rgba(63, 81, 181, 0.03) 50%, transparent 85%),
      radial-gradient(ellipse 700px 900px at 20% 100%, rgba(255, 215, 0, 0.2) 0%, rgba(255, 215, 0, 0.08) 30%, rgba(255, 215, 0, 0.02) 55%, transparent 90%),
      radial-gradient(ellipse 500px 700px at 40% 20%, rgba(76, 175, 80, 0.15) 0%, rgba(76, 175, 80, 0.05) 35%, rgba(76, 175, 80, 0.01) 65%, transparent 95%),
      radial-gradient(ellipse 650px 850px at 15% 60%, rgba(255, 87, 87, 0.1) 0%, rgba(255, 87, 87, 0.03) 40%, rgba(255, 87, 87, 0.005) 70%, transparent 100%);
    filter: blur(80px); /* Increased blur for smoother edges */
    transform: var(--scroll-transform-after, translate(0, 0) rotate(0deg) scale(1));
    transition: transform 0.05s ease-out;
  }

  .gradient-overlay-left::after {
    left: -30%;
  }

  .gradient-overlay-right::after {
    right: -30%;
    background:
      radial-gradient(ellipse 800px 1000px at 90% 40%, rgba(255, 165, 0, 0.3) 0%, rgba(255, 165, 0, 0.15) 20%, rgba(255, 165, 0, 0.05) 40%, rgba(255, 165, 0, 0.01) 60%, transparent 80%),
      radial-gradient(ellipse 600px 800px at 70% 60%, rgba(255, 87, 87, 0.25) 0%, rgba(255, 87, 87, 0.1) 25%, rgba(255, 87, 87, 0.03) 50%, transparent 85%),
      radial-gradient(ellipse 700px 900px at 80% 10%, rgba(255, 215, 0, 0.2) 0%, rgba(255, 215, 0, 0.08) 30%, rgba(255, 215, 0, 0.02) 55%, transparent 90%),
      radial-gradient(ellipse 500px 700px at 60% 80%, rgba(76, 175, 80, 0.15) 0%, rgba(76, 175, 80, 0.05) 35%, rgba(76, 175, 80, 0.01) 65%, transparent 95%),
      radial-gradient(ellipse 650px 850px at 85% 50%, rgba(33, 150, 243, 0.1) 0%, rgba(33, 150, 243, 0.03) 40%, rgba(33, 150, 243, 0.005) 70%, transparent 100%);
  }

  /* Additional organic blobs with different animations */
  .gradient-overlay-left::before,
  .gradient-overlay-right::before {
    content: '';
    position: absolute;
    width: 150%;
    height: 150%;
    top: -25%;
    background:
      radial-gradient(circle 400px at 50% 50%, rgba(63, 81, 181, 0.35) 0%, rgba(63, 81, 181, 0.05) 40%, transparent 70%),
      radial-gradient(circle 300px at 20% 80%, rgba(33, 150, 243, 0.3) 0%, rgba(33, 150, 243, 0.03) 45%, transparent 75%),
      radial-gradient(circle 350px at 70% 30%, rgba(255, 165, 0, 0.25) 0%, rgba(255, 165, 0, 0.02) 50%, transparent 80%);
    filter: blur(60px);
    mix-blend-mode: screen;
    transform: var(--scroll-transform-before, rotate(0deg) translateY(0));
    transition: transform 0.05s ease-out;
  }

  .gradient-overlay-left::before {
    left: -25%;
  }

  .gradient-overlay-right::before {
    right: -25%;
  }

  /* Complex animation for organic gradient movement */
  @keyframes gradientFlow {
    0%, 100% {
      transform: translate(0, 0) rotate(0deg) scale(1);
    }
    20% {
      transform: translate(-10%, 5%) rotate(45deg) scale(1.1);
    }
    40% {
      transform: translate(5%, -10%) rotate(90deg) scale(0.95);
    }
    60% {
      transform: translate(-5%, 10%) rotate(180deg) scale(1.05);
    }
    80% {
      transform: translate(10%, -5%) rotate(270deg) scale(0.9);
    }
  }

  @keyframes gradientSwirl {
    0% {
      transform: rotate(0deg) translateY(0);
    }
    100% {
      transform: rotate(360deg) translateY(-10%);
    }
  }

  /* Noise texture for extra organic feel */
  .gradient-noise {
    position: absolute;
    width: 200%;
    height: 200%;
    top: -50%;
    left: -50%;
    opacity: 0.02;
    background-image:
      repeating-conic-gradient(from 0deg at 50% 50%,
        transparent 0deg,
        rgba(255, 87, 87, 0.08) 20deg,
        transparent 40deg),
      repeating-conic-gradient(from 30deg at 40% 60%,
        transparent 0deg,
        rgba(255, 215, 0, 0.06) 15deg,
        transparent 30deg);
    mix-blend-mode: overlay;
  }

  @keyframes noiseShift {
    0% {
      transform: translate(0, 0) scale(1);
    }
    100% {
      transform: translate(-50%, -50%) scale(1.5);
    }
  }

  /* Responsive adjustments for gradient overlays */
  @media (max-width: 768px) {
    .gradient-overlay-left,
    .gradient-overlay-right {
      width: 20%;
    }
  }

  @media (max-width: 480px) {
    .gradient-overlay-left,
    .gradient-overlay-right {
      width: 15%;
    }
  }
</style>
