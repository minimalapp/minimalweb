---
import Badge from './Badge.astro';
import Button from './Button.astro';

interface Props {
  date: string;
  title: string;
  description: string;
  tags: string[];
  buttonText: string;
  buttonHref: string;
  dateColor?: string;
  className?: string;
  isPast?: boolean;
}

const {
  date,
  title,
  description,
  tags,
  buttonText,
  buttonHref,
  dateColor = 'var(--brand-green)',
  className = '',
  isPast = false
} = Astro.props;
---

<div class={`bg-bg-primary p-6 rounded-md shadow-md transition-all duration-base hover:-translate-y-0.5 hover:shadow-lg ${isPast ? 'opacity-60' : ''} ${className}`}>
  <div class="flex flex-col md:flex-row md:items-start md:justify-between gap-4">
    <div class="flex-1">
      <div class={`text-sm font-semibold mb-2 ${isPast ? 'line-through' : ''}`} style={`color: ${isPast ? 'var(--text-tertiary)' : dateColor}`}>
        ðŸ“… {date}
      </div>
      <h3 class={`text-2xl text-[var(--text-primary)] font-semibold mb-3 ${isPast ? 'line-through text-[var(--text-tertiary)]' : ''}`}>
        {title}
      </h3>
      <p class="text-[var(--text-secondary)] leading-relaxed mb-4 text-[15px]">
        {description}
      </p>
      <div class="flex flex-wrap gap-2">
        {tags.map(tag => (
          <Badge text={tag} variant="secondary" />
        ))}
      </div>
    </div>
    {isPast ? (
      <span class="text-[var(--text-tertiary)] text-sm font-medium px-4 py-2">Event Ended</span>
    ) : (
      <Button variant="primary" href={buttonHref}>
        {buttonText}
      </Button>
    )}
  </div>
</div>
