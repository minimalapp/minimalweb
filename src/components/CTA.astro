---
import type { Locale } from '@/i18n/utils';

export interface Props {
  title: string;
  subtitle: string;
  emailPlaceholder: string;
  urlPlaceholder: string;
  buttonText: string;
  footnote: string;
  locale: Locale;
}

const { title, subtitle, emailPlaceholder, urlPlaceholder, buttonText, footnote, locale } = Astro.props;
---

<section
  class="relative overflow-hidden text-center text-white bg-gradient-to-br from-brand-purple-primary via-brand-purple-dark to-[#5B21B6] pt-12 pb-16 md:pt-16 md:pb-20 [clip-path:polygon(0_0,100%_4%,100%_100%,0_96%)] animate-fadeIn motion-reduce:animate-none"
  id={locale === 'es' ? 'contacto' : 'contact'}
  style="padding-left: var(--section-padding-left); padding-right: var(--section-padding-right);"
>
  <!-- Noise overlay for texture -->
  <div
    class="absolute inset-0 pointer-events-none opacity-[0.05]"
    style="background-image: url(&quot;data:image/svg+xml,%3Csvg viewBox='0 0 400 400' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='noiseFilter'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.9' numOctaves='4' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23noiseFilter)'/%3E%3C/svg%3E&quot;)"
  ></div>

  <!-- Gradient orb animation -->
  <div
    class="absolute w-[500px] h-[500px] rounded-full -top-[250px] -right-[100px] pointer-events-none animate-float"
    style="background: radial-gradient(circle, rgba(255, 255, 255, 0.1) 0%, transparent 70%)"
  ></div>

  <div class="max-w-[800px] mx-auto relative z-10">
    <h2 class="text-[clamp(var(--font-size-3xl),4vw,var(--font-size-4xl))] mb-2 font-bold leading-tight">
      {title}
    </h2>
    <p class="text-[calc(var(--font-size-lg)+2px)] mb-6 opacity-95 leading-relaxed">
      {subtitle}
    </p>
    <form class="flex flex-col gap-3 mb-3 max-w-[600px] mx-auto">
      <div class="flex flex-col sm:flex-row gap-3">
        <input
          type="email"
          placeholder={emailPlaceholder}
          class="px-4 py-2.5 border-2 border-white/25 rounded-lg text-[15px] bg-white/10 text-white transition-all duration-base shadow-sm placeholder:text-white/60 focus:outline-none focus:border-white/60 focus:bg-white/15 sm:flex-1"
          aria-label="Email"
          required
        />
        <input
          type="url"
          placeholder={urlPlaceholder}
          class="px-4 py-2.5 border-2 border-white/25 rounded-lg text-[15px] bg-white/10 text-white transition-all duration-base shadow-sm placeholder:text-white/60 focus:outline-none focus:border-white/60 focus:bg-white/15 sm:flex-1"
          aria-label="Website URL"
          required
        />
      </div>
      <button
        type="submit"
        class="px-7 py-2 bg-white text-brand-purple-primary border-none rounded-full text-base font-semibold cursor-pointer transition-all duration-base hover:-translate-y-0.5 hover:shadow-hover hover:bg-gray-50"
      >
        {buttonText}
      </button>
    </form>
    <p class="text-base opacity-90 mt-2">
      {footnote}
    </p>
  </div>
</section>

<style>
  @keyframes float {
    0%, 100% {
      transform: translate(0, 0) scale(1);
    }
    33% {
      transform: translate(50px, 100px) scale(1.1);
    }
    66% {
      transform: translate(-30px, 80px) scale(0.9);
    }
  }

  @keyframes fadeIn {
    from {
      opacity: 0;
    }
    to {
      opacity: 1;
    }
  }

  .animate-float {
    animation: float 20s ease-in-out infinite;
  }

  .animate-fadeIn {
    animation: fadeIn 0.8s ease-out;
  }
</style>
