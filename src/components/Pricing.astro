---
import type { Locale } from '@/i18n/utils';

export interface PricingPlan {
  name: string;
  price: string;
  period: string;
  button: string;
  features: string[];
  badge?: string;
}

export interface Props {
  title: string;
  plans: PricingPlan[];
  locale: Locale;
}

const { title, plans, locale } = Astro.props;
---

<section class="section-padding bg-bg-secondary" id={locale === 'es' ? 'precios' : 'pricing'}>
  <div class="container">
    <h2 class="section-title">{title}</h2>
    <div class="grid grid-cols-1 gap-3 max-w-[1200px] mx-auto items-stretch md:grid-cols-3">
      {plans.map((plan) => (
        <div class={`pricing-card ${plan.badge ? 'pricing-card-featured' : ''}`}>
          {plan.badge && <div class="pricing-badge">{plan.badge}</div>}
          <h3 class="text-2xl mb-2 text-text-primary font-bold">{plan.name}</h3>
          <div class="mb-6 flex items-baseline justify-center gap-2">
            <span class="text-[clamp(2.5rem,5vw,3rem)] font-bold text-text-primary leading-none">{plan.price}</span>
            <span class="text-lg text-text-quaternary">{plan.period}</span>
          </div>
          <ul class="list-none mb-auto pb-4 text-left">
            {plan.features.map((feature) => (
              <li class="py-3 text-[15px] text-text-tertiary border-b border-gray-200 last:border-b-0">{feature}</li>
            ))}
          </ul>
          <button class={`w-full mt-4 ${plan.badge ? 'btn-primary' : 'btn-outline'}`}>{plan.button}</button>
        </div>
      ))}
    </div>
  </div>
</section>
