---
/**
 * ListCard Component
 *
 * A standardized card component for displaying content with bullet lists.
 * Based on homepage UseCases pattern with green checkmarks.
 * Follows Astro and Tailwind best practices for consistency.
 *
 * @param icon - Optional icon identifier from the icon library
 * @param title - Card title
 * @param description - Card description text (optional)
 * @param items - Array of list items (strings)
 * @param bulletType - Type of bullet: 'checkmark' (✓) or 'bullet' (•) or 'x' (✗) - default: 'checkmark'
 * @param variant - Background variant: 'primary', 'tertiary', or 'secondary' (default: 'primary')
 * @param className - Additional CSS classes
 *
 * Example usage:
 * <ListCard
 *   icon="rocket"
 *   title="Best Practices"
 *   description="Follow these guidelines"
 *   items={['Item 1', 'Item 2', 'Item 3']}
 *   bulletType="checkmark"
 * />
 */

import Icon from '@/components/Icon.astro';

interface Props {
  icon?: string;
  title: string;
  description?: string;
  items: string[];
  bulletType?: 'checkmark' | 'bullet' | 'x';
  variant?: 'primary' | 'tertiary' | 'secondary';
  className?: string;
}

const {
  icon,
  title,
  description,
  items = [],
  bulletType = 'checkmark',
  variant = 'primary',
  className = ''
} = Astro.props;

// Match homepage UseCases pattern exactly
const bgClass = {
  'primary': 'bg-bg-primary',
  'tertiary': 'bg-bg-tertiary',
  'secondary': 'bg-bg-secondary'
}[variant];

// Bullet character and color based on type
const bulletConfig = {
  'checkmark': { char: '✓', color: 'before:text-brand-green' },
  'bullet': { char: '•', color: 'before:text-brand-green' },
  'x': { char: '✗', color: 'before:text-red-500' }
};

const bullet = bulletConfig[bulletType];
---

<div class={`${bgClass} p-6 rounded-md shadow-md transition-all duration-base hover:-translate-y-0.5 hover:shadow-lg ${className}`}>
  {icon && (
    <div class="mb-4 text-brand-purple-primary">
      <Icon name={icon} size="xl" />
    </div>
  )}

  <h3 class="text-2xl mb-3 text-[var(--text-primary)] font-semibold">
    {title}
  </h3>

  {description && (
    <p class="text-[var(--text-secondary)] leading-relaxed mb-4 text-[15px]">
      {description}
    </p>
  )}

  {items.length > 0 && (
    <ul class="list-none space-y-2">
      {items.map(item => (
        <li class="flex items-start gap-2 text-[15px] text-[var(--text-tertiary)] leading-relaxed">
          <span class={`${bullet.color.replace('before:', '')} font-bold flex-shrink-0`}>{bullet.char}</span>
          <span>{item}</span>
        </li>
      ))}
    </ul>
  )}

  <slot />
</div>
