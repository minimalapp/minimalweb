---
import BaseLayout from '@/layouts/BaseLayout.astro';
import Header from '@/components/Header.astro';
import Footer from '@/components/Footer.astro';
import PageHero from '@/components/PageHero.astro';
import ContentSection from '@/components/ContentSection.astro';
import SectionTitle from '@/components/SectionTitle.astro';
import FeatureCard from '@/components/FeatureCard.astro';
import CTASection from '@/components/CTASection.astro';
import Button from '@/components/Button.astro';
import StatCard from '@/components/StatCard.astro';
import EventCard from '@/components/EventCard.astro';
import TestimonialCard from '@/components/TestimonialCard.astro';

const locale = 'en';
const IDEAS_APP_URL = import.meta.env.PUBLIC_IDEAS_APP_URL || 'http://localhost:8000';
---

<BaseLayout title="Community - Minimal" description="Join the Minimal community of developers, designers, and product builders." locale={locale}>
  <Header locale={locale} />

  <main class="pt-header">
    <PageHero
      title="Minimal Community"
      subtitle="Join thousands of developers, designers, and product builders creating better web experiences."
    />

    <ContentSection>
      <div class="grid grid-cols-1 md:grid-cols-3 gap-8 lg:gap-12">
        <StatCard number="1K+" label="Active Users" color="var(--brand-green)" />
        <StatCard number="15" label="Countries" color="var(--brand-purple-primary)" />
        <StatCard number="10K+" label="Conversations Daily" color="var(--brand-green)" />
      </div>
    </ContentSection>

    <!-- Ideas Board Section -->
    <ContentSection background="secondary">
      <div class="max-w-5xl mx-auto">
        <div class="text-center mb-8">
          <div class="inline-flex items-center justify-center w-16 h-16 rounded-2xl bg-gradient-to-br from-[var(--brand-purple-primary)] to-[var(--brand-purple-dark)] mb-6 shadow-lg shadow-purple-500/25">
            <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-8 h-8 text-white">
              <path stroke-linecap="round" stroke-linejoin="round" d="M12 18v-5.25m0 0a6.01 6.01 0 0 0 1.5-.189m-1.5.189a6.01 6.01 0 0 1-1.5-.189m3.75 7.478a12.06 12.06 0 0 1-4.5 0m3.75 2.383a14.406 14.406 0 0 1-3 0M14.25 18v-.192c0-.983.658-1.823 1.508-2.316a7.5 7.5 0 1 0-7.517 0c.85.493 1.509 1.333 1.509 2.316V18" />
            </svg>
          </div>
          <h2 class="text-4xl md:text-5xl font-bold text-[var(--text-primary)] mb-4">
            Shape the Future
          </h2>
          <p class="text-xl text-[var(--text-secondary)] max-w-2xl mx-auto leading-relaxed">
            Your ideas drive our roadmap. Share feature requests, vote on what matters most, and help us build the conversational AI platform you need.
          </p>
        </div>

        <!-- Embedded Ideas Cards -->
        <div class="mb-4">
          <iframe
            src={`${IDEAS_APP_URL}/ideas/embed/?limit=6`}
            class="w-full border-0"
            style="height: 580px; background: transparent; overflow: hidden;"
            title="Community Ideas"
            loading="lazy"
            scrolling="no"
          ></iframe>
        </div>

        <!-- Ideas CTA -->
        <div class="flex flex-col sm:flex-row items-center justify-center gap-4">
          <Button variant="primary" size="lg" href={`${IDEAS_APP_URL}/ideas/submit/`}>
            <span class="flex items-center gap-2">
              <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" class="w-5 h-5">
                <path stroke-linecap="round" stroke-linejoin="round" d="M12 4.5v15m7.5-7.5h-15" />
              </svg>
              Submit Your Idea
            </span>
          </Button>
          <Button variant="secondary" size="lg" href={`${IDEAS_APP_URL}/ideas/cards/`}>
            View All Ideas
          </Button>
        </div>
      </div>
    </ContentSection>

    <ContentSection>
      <SectionTitle title="Connect With Us" centered={true} />
      <div class="grid grid-cols-1 md:grid-cols-2 gap-6 lg:gap-8">
        <FeatureCard icon="twitter" title="Twitter / X" description="Follow us for product updates, tips, and industry insights. Join the conversation with #MinimalChat." />
        <FeatureCard icon="linkedin" title="LinkedIn" description="Connect with us professionally. Company updates, industry insights, and B2B community." />
        <FeatureCard icon="youtube" title="YouTube Channel" description="Tutorials, case studies, and behind-the-scenes content. Subscribe for weekly videos." />
        <FeatureCard icon="document-text" title="Blog" description="Deep dives into conversational AI, best practices, and customer success stories." comingSoon={true} />
        <FeatureCard icon="github" title="GitHub" description="Explore our open-source tools, examples, and contribute to the ecosystem." />
        <FeatureCard icon="envelope" title="Newsletter" description="Monthly roundup of features, tips, and community highlights delivered to your inbox." comingSoon={true} />
      </div>
    </ContentSection>

    <ContentSection background="secondary">
      <SectionTitle title="Community Guidelines" centered={true} />
      <div class="grid grid-cols-1 md:grid-cols-2 gap-6 lg:gap-8">
        <FeatureCard
          icon="users"
          title="Be Respectful"
          description="Treat everyone with respect. Harassment, hate speech, and discrimination are not tolerated. We're building an inclusive community for all."
        />
        <FeatureCard
          icon="lightbulb"
          title="Share Knowledge"
          description="Help others learn and grow. Share your experiences, answer questions, and contribute to discussions. Everyone's perspective adds value."
        />
        <FeatureCard
          icon="arrow-right"
          title="Stay On Topic"
          description="Keep discussions relevant to Minimal and conversational AI. Use appropriate channels for different topics."
        />
        <FeatureCard
          icon="shield-exclamation"
          title="No Spam"
          description="Don't spam, self-promote excessively, or post duplicate content. Quality over quantity."
        />
      </div>
    </ContentSection>

    <ContentSection background="secondary">
      <SectionTitle title="Upcoming Events" centered={true} />
      <div class="max-w-4xl mx-auto space-y-6 lg:space-y-8">
        <EventCard
          date="March 15, 2025 • 2:00 PM EST"
          title="Conversational AI Workshop"
          description="Learn best practices for designing conversational experiences. Interactive workshop with live Q&A."
          tags={["Virtual", "Free"]}
          buttonText="Register"
          buttonHref="/contact"
          dateColor="var(--brand-green)"
          isPast={true}
        />
        <EventCard
          date="March 22, 2025 • 1:00 PM EST"
          title="Monthly Community Call"
          description="Join our monthly community call for product updates, roadmap discussions, and community showcases."
          tags={["Virtual", "Free"]}
          buttonText="Join Call"
          buttonHref="/contact"
          dateColor="var(--brand-purple-primary)"
          isPast={true}
        />
        <EventCard
          date="April 5, 2025 • 10:00 AM EST"
          title="Hackathon: Build with AI"
          description="48-hour virtual hackathon. Build innovative conversational experiences. Prizes and swag for winners!"
          tags={["Virtual", "48 Hours"]}
          buttonText="Sign Up"
          buttonHref="/contact"
          dateColor="var(--brand-green)"
          isPast={true}
        />
      </div>
    </ContentSection>

    <ContentSection>
      <SectionTitle title="Success Stories" centered={true} />
      <div class="grid grid-cols-1 md:grid-cols-2 gap-6 lg:gap-8 max-w-5xl mx-auto">
        <TestimonialCard
          avatar="TC"
          company="TechCo Inc."
          industry="SaaS Platform"
          quote="Minimal helped us increase customer engagement by 300%. The AI understands our complex product and provides accurate answers. Setup took less than 30 minutes."
          author="Alex Chen, Head of Product"
          avatarColor="from-[var(--brand-green)] to-[#059669]"
        />
        <TestimonialCard
          avatar="AR"
          company="AutoRight Repairs"
          industry="Auto Services"
          quote="Customers can now book appointments and get estimates 24/7. The AI answers common questions about services and pricing instantly. Our phone calls dropped by 40%."
          author="Carlos Mendez, Owner"
          avatarColor="from-[var(--brand-purple-primary)] to-[var(--brand-purple-dark)]"
        />
        <TestimonialCard
          avatar="ED"
          company="EduPlatform"
          industry="Education Tech"
          quote="Students love it! They get instant help with course questions 24/7. Support ticket volume decreased by 60% while student satisfaction increased."
          author="Dr. James Wilson, CTO"
          avatarColor="from-[var(--brand-green)] to-[#059669]"
        />
        <TestimonialCard
          avatar="FG"
          company="FinanceGuru"
          industry="Fintech"
          quote="The analytics are incredible. We now understand exactly what our users are looking for and have improved our product roadmap based on conversation data."
          author="Rachel Park, Product Manager"
          avatarColor="from-[var(--brand-purple-primary)] to-[var(--brand-purple-dark)]"
        />
      </div>
    </ContentSection>

    <CTASection
      title="Join the Community"
      description="Connect with builders creating better web experiences with conversational AI."
      background="secondary"
    >
      <div class="flex flex-col sm:flex-row gap-4 justify-center">
        <Button variant="primary" size="lg" href="https://twitter.com/minimal">
          Follow on Twitter
        </Button>
        <Button variant="secondary" size="lg" href="https://www.linkedin.com/company/minimal-lat">
          Connect on LinkedIn
        </Button>
      </div>
    </CTASection>
  </main>

  <Footer locale={locale} />
</BaseLayout>
