---
import BaseLayout from '@/layouts/BaseLayout.astro';
import Header from '@/components/Header.astro';
import Footer from '@/components/Footer.astro';
import PageHero from '@/components/PageHero.astro';
import ContentSection from '@/components/ContentSection.astro';
import SectionTitle from '@/components/SectionTitle.astro';
import FeatureCard from '@/components/FeatureCard.astro';
import CTASection from '@/components/CTASection.astro';
import Button from '@/components/Button.astro';
import StatCard from '@/components/StatCard.astro';
import EventCard from '@/components/EventCard.astro';
import TestimonialCard from '@/components/TestimonialCard.astro';

const locale = 'es';
const IDEAS_APP_URL = import.meta.env.PUBLIC_IDEAS_APP_URL || 'http://localhost:8000';
---

<BaseLayout title="Comunidad - Minimal" description="Únete a la comunidad Minimal de desarrolladores, diseñadores y constructores de productos." locale={locale}>
  <Header locale={locale} />

  <main class="pt-header">
    <PageHero
      title="Comunidad Minimal"
      subtitle="Únete a miles de desarrolladores, diseñadores y constructores de productos creando mejores experiencias web."
    />

    <ContentSection>
      <div class="grid grid-cols-1 md:grid-cols-3 gap-8 lg:gap-12">
        <StatCard number="1K+" label="Usuarios Activos" color="var(--brand-green)" />
        <StatCard number="15" label="Países" color="var(--brand-purple-primary)" />
        <StatCard number="10K+" label="Conversaciones Diarias" color="var(--brand-green)" />
      </div>
    </ContentSection>

    <!-- Ideas Board Section -->
    <ContentSection background="secondary">
      <div class="max-w-5xl mx-auto">
        <div class="text-center mb-8">
          <div class="inline-flex items-center justify-center w-16 h-16 rounded-2xl bg-gradient-to-br from-[var(--brand-purple-primary)] to-[var(--brand-purple-dark)] mb-6 shadow-lg shadow-purple-500/25">
            <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-8 h-8 text-white">
              <path stroke-linecap="round" stroke-linejoin="round" d="M12 18v-5.25m0 0a6.01 6.01 0 0 0 1.5-.189m-1.5.189a6.01 6.01 0 0 1-1.5-.189m3.75 7.478a12.06 12.06 0 0 1-4.5 0m3.75 2.383a14.406 14.406 0 0 1-3 0M14.25 18v-.192c0-.983.658-1.823 1.508-2.316a7.5 7.5 0 1 0-7.517 0c.85.493 1.509 1.333 1.509 2.316V18" />
            </svg>
          </div>
          <h2 class="text-4xl md:text-5xl font-bold text-[var(--text-primary)] mb-4">
            Construye el Futuro
          </h2>
          <p class="text-xl text-[var(--text-secondary)] max-w-2xl mx-auto leading-relaxed">
            Tus ideas impulsan nuestra hoja de ruta. Comparte solicitudes de funciones, vota por lo que más importa y ayúdanos a construir la plataforma de IA conversacional que necesitas.
          </p>
        </div>

        <!-- Embedded Ideas Cards -->
        <div class="mb-4">
          <iframe
            src={`${IDEAS_APP_URL}/ideas/embed/?limit=6`}
            class="w-full border-0"
            style="height: 580px; background: transparent; overflow: hidden;"
            title="Ideas de la Comunidad"
            loading="lazy"
            scrolling="no"
          ></iframe>
        </div>

        <!-- Ideas CTA -->
        <div class="flex flex-col sm:flex-row items-center justify-center gap-4">
          <Button variant="primary" size="lg" href={`${IDEAS_APP_URL}/ideas/submit/`}>
            <span class="flex items-center gap-2">
              <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" class="w-5 h-5">
                <path stroke-linecap="round" stroke-linejoin="round" d="M12 4.5v15m7.5-7.5h-15" />
              </svg>
              Enviar Tu Idea
            </span>
          </Button>
          <Button variant="secondary" size="lg" href={`${IDEAS_APP_URL}/ideas/cards/`}>
            Ver Todas las Ideas
          </Button>
        </div>
      </div>
    </ContentSection>

    <ContentSection>
      <SectionTitle title="Conéctate con Nosotros" centered={true} />
      <div class="grid grid-cols-1 md:grid-cols-2 gap-6 lg:gap-8">
        <FeatureCard icon="twitter" title="Twitter / X" description="Síguenos para actualizaciones de producto, consejos e información del sector. Únete a la conversación con #MinimalChat." />
        <FeatureCard icon="linkedin" title="LinkedIn" description="Conéctate con nosotros profesionalmente. Actualizaciones de empresa, información del sector y comunidad B2B." />
        <FeatureCard icon="youtube" title="Canal de YouTube" description="Tutoriales, casos de estudio y contenido detrás de escena. Suscríbete para videos semanales." />
        <FeatureCard icon="document-text" title="Blog" description="Profundizaciones en IA conversacional, mejores prácticas e historias de éxito de clientes." comingSoon={true} />
        <FeatureCard icon="github" title="GitHub" description="Explora nuestras herramientas de código abierto, ejemplos y contribuye al ecosistema." />
        <FeatureCard icon="envelope" title="Newsletter" description="Resumen mensual de funciones, consejos y destacados de la comunidad entregado a tu bandeja de entrada." comingSoon={true} />
      </div>
    </ContentSection>

    <ContentSection background="secondary">
      <SectionTitle title="Directrices de la Comunidad" centered={true} />
      <div class="grid grid-cols-1 md:grid-cols-2 gap-6 lg:gap-8">
        <FeatureCard
          icon="users"
          title="Sé Respetuoso"
          description="Trata a todos con respeto. No se toleran el acoso, el discurso de odio y la discriminación. Estamos construyendo una comunidad inclusiva para todos."
        />
        <FeatureCard
          icon="lightbulb"
          title="Comparte Conocimiento"
          description="Ayuda a otros a aprender y crecer. Comparte tus experiencias, responde preguntas y contribuye a las discusiones. La perspectiva de todos aporta valor."
        />
        <FeatureCard
          icon="arrow-right"
          title="Mantente en el Tema"
          description="Mantén las discusiones relevantes a Minimal y la IA conversacional. Usa los canales apropiados para diferentes temas."
        />
        <FeatureCard
          icon="shield-exclamation"
          title="No Spam"
          description="No hagas spam, autopromoción excesiva o publiques contenido duplicado. La calidad sobre la cantidad."
        />
      </div>
    </ContentSection>

    <ContentSection background="secondary">
      <SectionTitle title="Próximos Eventos" centered={true} />
      <div class="max-w-4xl mx-auto space-y-6 lg:space-y-8">
        <EventCard
          date="15 de marzo, 2025 • 2:00 PM EST"
          title="Taller de IA Conversacional"
          description="Aprende mejores prácticas para diseñar experiencias conversacionales. Taller interactivo con preguntas y respuestas en vivo."
          tags={["Virtual", "Gratis"]}
          buttonText="Registrarse"
          buttonHref="/es/contact"
          dateColor="var(--brand-green)"
          isPast={true}
        />
        <EventCard
          date="22 de marzo, 2025 • 1:00 PM EST"
          title="Llamada Mensual de la Comunidad"
          description="Únete a nuestra llamada mensual de la comunidad para actualizaciones de producto, discusiones de hoja de ruta y exhibiciones de la comunidad."
          tags={["Virtual", "Gratis"]}
          buttonText="Unirse a la Llamada"
          buttonHref="/es/contact"
          dateColor="var(--brand-purple-primary)"
          isPast={true}
        />
        <EventCard
          date="5 de abril, 2025 • 10:00 AM EST"
          title="Hackathon: Construye con IA"
          description="Hackathon virtual de 48 horas. Construye experiencias conversacionales innovadoras. ¡Premios y regalos para los ganadores!"
          tags={["Virtual", "48 Horas"]}
          buttonText="Inscribirse"
          buttonHref="/es/contact"
          dateColor="var(--brand-green)"
          isPast={true}
        />
      </div>
    </ContentSection>

    <ContentSection>
      <SectionTitle title="Historias de Éxito" centered={true} />
      <div class="grid grid-cols-1 md:grid-cols-2 gap-6 lg:gap-8 max-w-5xl mx-auto">
        <TestimonialCard
          avatar="TC"
          company="TechCo Inc."
          industry="Plataforma SaaS"
          quote="Minimal nos ayudó a aumentar el compromiso del cliente en un 300%. La IA entiende nuestro producto complejo y proporciona respuestas precisas. La configuración tomó menos de 30 minutos."
          author="Alex Chen, Director de Producto"
          avatarColor="from-[var(--brand-green)] to-[#059669]"
        />
        <TestimonialCard
          avatar="AR"
          company="AutoRight Repairs"
          industry="Servicios Automotrices"
          quote="Los clientes ahora pueden reservar citas y obtener presupuestos 24/7. La IA responde preguntas comunes sobre servicios y precios al instante. Nuestras llamadas telefónicas se redujeron en un 40%."
          author="Carlos Mendez, Propietario"
          avatarColor="from-[var(--brand-purple-primary)] to-[var(--brand-purple-dark)]"
        />
        <TestimonialCard
          avatar="ED"
          company="EduPlatform"
          industry="Tecnología Educativa"
          quote="¡A los estudiantes les encanta! Obtienen ayuda instantánea con preguntas del curso 24/7. El volumen de tickets de soporte disminuyó un 60% mientras que la satisfacción estudiantil aumentó."
          author="Dr. James Wilson, CTO"
          avatarColor="from-[var(--brand-green)] to-[#059669]"
        />
        <TestimonialCard
          avatar="FG"
          company="FinanceGuru"
          industry="Fintech"
          quote="Los análisis son increíbles. Ahora entendemos exactamente lo que nuestros usuarios están buscando y hemos mejorado nuestra hoja de ruta de producto basándose en datos de conversación."
          author="Rachel Park, Gerente de Producto"
          avatarColor="from-[var(--brand-purple-primary)] to-[var(--brand-purple-dark)]"
        />
      </div>
    </ContentSection>

    <CTASection
      title="Únete a la Comunidad"
      description="Conéctate con constructores creando mejores experiencias web con IA conversacional."
      background="secondary"
    >
      <div class="flex flex-col sm:flex-row gap-4 justify-center">
        <Button variant="primary" size="lg" href="https://x.com/minimal_lat">
          Síguenos en X
        </Button>
        <Button variant="secondary" size="lg" href="https://www.linkedin.com/company/minimal-lat">
          Conecta en LinkedIn
        </Button>
      </div>
    </CTASection>
  </main>

  <Footer locale={locale} />
</BaseLayout>
