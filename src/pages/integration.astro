---
import BaseLayout from '@/layouts/BaseLayout.astro';
import Header from '@/components/Header.astro';
import Footer from '@/components/Footer.astro';
import PageHero from '@/components/PageHero.astro';
import ContentSection from '@/components/ContentSection.astro';
import SectionTitle from '@/components/SectionTitle.astro';
import CodeBlock from '@/components/CodeBlock.astro';
import FeatureCard from '@/components/FeatureCard.astro';
import Button from '@/components/Button.astro';
import ListCard from '@/components/ListCard.astro';
import CTASection from '@/components/CTASection.astro';
import Icon from '@/components/Icon.astro';

const locale = 'en';
---

<BaseLayout title="Integration - Minimal" description="Integrate Minimal with your platform in minutes." locale={locale}>
  <Header locale={locale} />

  <main class="pt-header">
    <PageHero
      title="Platform Integration"
      subtitle="Integrate Minimal with your platform in minutes. Compatible with all major web technologies."
    />

    <ContentSection>
      <SectionTitle title="Supported Platforms" centered={true} />
      <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 lg:gap-8">
        <FeatureCard icon="react" title="React" description="Seamless integration with React applications using our official component library." />
        <FeatureCard icon="angular" title="Angular" description="Native Angular module with TypeScript support and dependency injection." />
        <FeatureCard icon="vue" title="Vue.js" description="Vue 3 plugin with composition API support and reactive state management." />
        <FeatureCard icon="next" title="Next.js" description="Optimized for Next.js with SSR support and automatic code splitting." />
        <FeatureCard icon="bolt" title="WordPress" description="Simple WordPress plugin - install and configure in your admin panel." />
        <FeatureCard icon="shopping-bag" title="Shopify" description="Shopify app integration for ecommerce stores with cart tracking." />
      </div>
    </ContentSection>

    <ContentSection background="secondary">
      <div class="max-w-4xl mx-auto">
      <SectionTitle title="Universal Installation" centered={true} />
      <p class="text-center text-xl text-[var(--text-secondary)] mb-6 max-w-4xl mx-auto leading-relaxed">Works with any website regardless of tech stack:</p>

      <h3 class="text-2xl text-[var(--text-primary)] font-semibold mb-4">HTML Websites</h3>
      <p class="text-lg text-[var(--text-secondary)] leading-relaxed mb-4">Add before closing &lt;/body&gt; tag:</p>
      <CodeBlock code={`<script src="https://minimal.lat/embed.js" data-site-id="your-site-id"></script>`} />

      <h3 class="text-2xl text-[var(--text-primary)] font-semibold mb-4">React Applications</h3>
      <p class="text-lg text-[var(--text-secondary)] leading-relaxed mb-4">Install via npm and use as component:</p>
      <CodeBlock code={`npm install @minimal/react
import { MinimalChat } from '@minimal/react';

function App() {
  return (
    <div>
      <MinimalChat siteId="your-site-id" />
    </div>
  );
}`} />

      <h3 class="text-2xl text-[var(--text-primary)] font-semibold mb-4">Vue.js Applications</h3>
      <CodeBlock code={`npm install @minimal/vue
import { createApp } from 'vue';
import MinimalPlugin from '@minimal/vue';

const app = createApp(App);
app.use(MinimalPlugin, { siteId: 'your-site-id' });`} />

      <div class="space-y-6">
        <ListCard
          title="WordPress"
          description="Install plugin and configure in Settings → Minimal:"
          items={[
            'Download Minimal plugin from WordPress repository',
            'Upload and activate in Plugins → Add New',
            'Navigate to Settings → Minimal',
            'Enter your Site ID and customize appearance',
            'Save changes - widget appears automatically'
          ]}
        />

        <ListCard
          title="Shopify Stores"
          description="Install from Shopify App Store:"
          items={[
            'Visit Shopify App Store and search for Minimal',
            'Click Install App and authorize permissions',
            'Enter your Site ID in the app settings',
            'Customize widget appearance',
            'Widget automatically appears on all pages'
          ]}
        />
      </div>
    </ContentSection>

    <ContentSection>
      <div class="max-w-4xl mx-auto">
      <SectionTitle title="Advanced Configuration" centered={true} />

      <h3 class="text-2xl text-[var(--text-primary)] font-semibold mb-4">Custom Triggers</h3>
      <p class="text-lg text-[var(--text-secondary)] leading-relaxed mb-4">Open widget based on user actions:</p>
      <CodeBlock code={`// Open after time delay
setTimeout(() => {
  Minimal.open();
}, 30000); // 30 seconds

// Open on exit intent
document.addEventListener('mouseout', (e) => {
  if (e.clientY < 0) {
    Minimal.open();
  }
});

// Open on scroll depth
window.addEventListener('scroll', () => {
  const scrolled = (window.scrollY / document.body.scrollHeight) * 100;
  if (scrolled > 50 && !Minimal.isOpen()) {
    Minimal.open();
  }
});`} />

      <h3 class="text-2xl text-[var(--text-primary)] font-semibold mb-4">E-commerce Tracking</h3>
      <p class="text-lg text-[var(--text-secondary)] leading-relaxed mb-4">Send cart and product data to AI:</p>
      <CodeBlock code={`// Track product views
Minimal.trackEvent('product_view', {
  productId: '12345',
  productName: 'Premium Widget',
  price: 99.99
});

// Track cart updates
Minimal.trackEvent('add_to_cart', {
  items: cartItems,
  total: cartTotal
});

// Pre-fill checkout questions
Minimal.setContext({
  cartValue: 299.99,
  items: ['Widget A', 'Widget B']
});`} />

      <h3 class="text-2xl text-[var(--text-primary)] font-semibold mb-4">User Identification</h3>
      <p class="text-lg text-[var(--text-secondary)] leading-relaxed mb-4">Identify returning users:</p>
      <CodeBlock code={`// Set user information
Minimal.identify({
  userId: 'user_123',
  email: 'john@example.com',
  name: 'John Doe',
  plan: 'premium',
  customAttributes: {
    signupDate: '2024-01-15',
    lastPurchase: '2024-03-20'
  }
});`} />
      </div>
    </ContentSection>

    <ContentSection background="secondary">
      <SectionTitle title="Third-Party Integrations" centered={true} />
      <p class="text-center text-xl text-[var(--text-secondary)] mb-6 max-w-4xl mx-auto leading-relaxed">Connect Minimal with your favorite tools:</p>

      <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 lg:gap-8">
        <FeatureCard icon="chart-bar" title="Google Analytics" description="Track user behavior and measure the impact of your conversational interface." />
        <FeatureCard icon="chart-bar" title="Mixpanel" description="Product analytics to understand user engagement and conversion flows." />
        <FeatureCard icon="chart-bar" title="Segment" description="Centralize your data collection and route it to multiple analytics tools." />
        <FeatureCard icon="chart-bar" title="Amplitude" description="Behavioral analytics for understanding user journeys and retention." />

        <FeatureCard icon="briefcase" title="Salesforce" description="Sync conversation data and leads directly to your Salesforce CRM." />
        <FeatureCard icon="briefcase" title="HubSpot" description="Integrate conversations with HubSpot's marketing and sales platform." />
        <FeatureCard icon="briefcase" title="Pipedrive" description="Send qualified leads from conversations straight to your sales pipeline." />
        <FeatureCard icon="briefcase" title="Zoho CRM" description="Connect customer interactions with Zoho's customer relationship tools." />

        <FeatureCard icon="envelope" title="Mailchimp" description="Add conversation participants to email campaigns and marketing lists." />
        <FeatureCard icon="envelope" title="SendGrid" description="Trigger transactional emails based on conversation events." />
        <FeatureCard icon="envelope" title="ConvertKit" description="Build your creator email list from website conversations." />
        <FeatureCard icon="envelope" title="ActiveCampaign" description="Automate email sequences based on conversation insights." />

        <FeatureCard icon="chat-bubble-left-right" title="Zendesk" description="Create support tickets automatically from conversation requests." />
        <FeatureCard icon="chat-bubble-left-right" title="Intercom" description="Seamlessly hand off conversations to your support team." />
        <FeatureCard icon="chat-bubble-left-right" title="Freshdesk" description="Route complex queries to your customer support system." />
        <FeatureCard icon="chat-bubble-left-right" title="Help Scout" description="Integrate conversations with Help Scout's support platform." />
      </div>

      <div class="mt-8 bg-gradient-to-r from-purple-500/10 to-green-500/10 rounded-md p-6 shadow-md border-l-4 border-brand-purple-primary max-w-4xl mx-auto">
        <div class="flex items-start gap-4">
          <div class="text-brand-purple-primary flex-shrink-0">
            <Icon name="bolt" size="xl" />
          </div>
          <div>
            <h3 class="text-2xl text-[var(--text-primary)] font-semibold mb-3">Zapier Integration</h3>
            <p class="text-[15px] text-[var(--text-secondary)] leading-relaxed">Connect Minimal to 5,000+ apps using Zapier. Trigger actions, sync data, and automate workflows without writing code.</p>
          </div>
        </div>
      </div>
    </ContentSection>

    <CTASection
      title="Need Integration Help?"
      description="Our team can help with custom integrations and technical setup."
      background="secondary"
    >
      <div class="flex flex-col sm:flex-row gap-4 justify-center">
        <Button variant="primary" size="lg" href="/help">
          View Documentation
        </Button>
        <Button variant="secondary" size="lg" href="/contact">
          Contact Support
        </Button>
      </div>
    </CTASection>
  </main>

  <Footer locale={locale} />
</BaseLayout>
