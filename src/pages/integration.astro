---
import BaseLayout from '@/layouts/BaseLayout.astro';
import Header from '@/components/Header.astro';
import Footer from '@/components/Footer.astro';
import PageHero from '@/components/PageHero.astro';
import ContentSection from '@/components/ContentSection.astro';
import CodeBlock from '@/components/CodeBlock.astro';
import FeatureCard from '@/components/FeatureCard.astro';
import Button from '@/components/Button.astro';

const locale = 'en';
---

<BaseLayout title="Integration - Minimal" description="Integrate Minimal with your platform in minutes." locale={locale}>
  <Header locale={locale} />

  <main class="pt-header">
    <PageHero
      title="Platform Integration"
      subtitle="Integrate Minimal with your platform in minutes. Compatible with all major web technologies."
    />

    <ContentSection>
      <h2 class="text-3xl lg:text-4xl mb-10 text-center text-[var(--text-primary)] font-bold">Supported Platforms</h2>
      <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 lg:gap-8">
        <FeatureCard icon="âš›ï¸" title="React" description="Seamless integration with React applications using our official component library." />
        <FeatureCard icon="ðŸ…°ï¸" title="Angular" description="Native Angular module with TypeScript support and dependency injection." />
        <FeatureCard icon="ðŸ’š" title="Vue.js" description="Vue 3 plugin with composition API support and reactive state management." />
        <FeatureCard icon="ðŸ”º" title="Next.js" description="Optimized for Next.js with SSR support and automatic code splitting." />
        <FeatureCard icon="âš¡" title="WordPress" description="Simple WordPress plugin - install and configure in your admin panel." />
        <FeatureCard icon="ðŸ›ï¸" title="Shopify" description="Shopify app integration for ecommerce stores with cart tracking." />
      </div>
    </ContentSection>

    <ContentSection background="secondary">
      <div class="max-w-4xl mx-auto">
        <h2 class="text-3xl lg:text-4xl mb-6 text-[var(--text-primary)] font-bold">Universal Installation</h2>
        <p class="text-lg text-[var(--text-secondary)] leading-relaxed mb-6">Works with any website regardless of tech stack:</p>

        <h3 class="text-2xl text-[var(--text-primary)] font-semibold mb-4 mt-8">HTML Websites</h3>
        <p class="text-lg text-[var(--text-secondary)] leading-relaxed mb-4">Add before closing &lt;/body&gt; tag:</p>
        <CodeBlock code={`<script src="https://minimal.lat/embed.js" data-site-id="your-site-id"></script>`} />

        <h3 class="text-2xl text-[var(--text-primary)] font-semibold mb-4 mt-8">React Applications</h3>
        <p class="text-lg text-[var(--text-secondary)] leading-relaxed mb-4">Install via npm and use as component:</p>
        <CodeBlock code={`npm install @minimal/react

import { MinimalChat } from '@minimal/react';

function App() {
  return (
    <div>
      <MinimalChat siteId="your-site-id" />
    </div>
  );
}`} />

        <h3 class="text-2xl text-[var(--text-primary)] font-semibold mb-4 mt-8">Vue.js Applications</h3>
        <CodeBlock code={`npm install @minimal/vue

import { createApp } from 'vue';
import MinimalPlugin from '@minimal/vue';

const app = createApp(App);
app.use(MinimalPlugin, { siteId: 'your-site-id' });`} />

        <h3 class="text-2xl text-[var(--text-primary)] font-semibold mb-4 mt-8">WordPress</h3>
        <p class="text-lg text-[var(--text-secondary)] leading-relaxed mb-4">Install plugin and configure in Settings â†’ Minimal:</p>
        <div class="bg-[var(--bg-primary)] border border-[var(--border-primary)] rounded-xl p-6 my-6">
          <ol class="list-decimal pl-6 space-y-2 text-[var(--text-secondary)]">
            <li>Download Minimal plugin from WordPress repository</li>
            <li>Upload and activate in Plugins â†’ Add New</li>
            <li>Navigate to Settings â†’ Minimal</li>
            <li>Enter your Site ID and customize appearance</li>
            <li>Save changes - widget appears automatically</li>
          </ol>
        </div>

        <h3 class="text-2xl text-[var(--text-primary)] font-semibold mb-4 mt-8">Shopify Stores</h3>
        <p class="text-lg text-[var(--text-secondary)] leading-relaxed mb-4">Install from Shopify App Store:</p>
        <div class="bg-[var(--bg-primary)] border border-[var(--border-primary)] rounded-xl p-6 my-6">
          <ol class="list-decimal pl-6 space-y-2 text-[var(--text-secondary)]">
            <li>Visit Shopify App Store and search "Minimal Chat"</li>
            <li>Click "Add app" and authorize permissions</li>
            <li>Configure widget settings in your Shopify admin</li>
            <li>Widget automatically tracks cart and product views</li>
          </ol>
        </div>
      </div>
    </ContentSection>

    <ContentSection>
      <div class="max-w-4xl mx-auto">
        <h2 class="text-3xl lg:text-4xl mb-6 text-[var(--text-primary)] font-bold">Advanced Configuration</h2>

        <h3 class="text-2xl text-[var(--text-primary)] font-semibold mb-4 mt-8">Custom Triggers</h3>
        <p class="text-lg text-[var(--text-secondary)] leading-relaxed mb-4">Open widget based on user actions:</p>
        <CodeBlock code={`// Open after time delay
setTimeout(() => {
  Minimal.open();
}, 30000); // 30 seconds

// Open on exit intent
document.addEventListener('mouseout', (e) => {
  if (e.clientY < 0) {
    Minimal.open();
  }
});

// Open on scroll depth
window.addEventListener('scroll', () => {
  const scrolled = (window.scrollY / document.body.scrollHeight) * 100;
  if (scrolled > 50 && !Minimal.isOpen()) {
    Minimal.open();
  }
});`} />

        <h3 class="text-2xl text-[var(--text-primary)] font-semibold mb-4 mt-8">E-commerce Tracking</h3>
        <p class="text-lg text-[var(--text-secondary)] leading-relaxed mb-4">Send cart and product data to AI:</p>
        <CodeBlock code={`// Track product views
Minimal.trackEvent('product_view', {
  productId: '12345',
  productName: 'Premium Widget',
  price: 99.99
});

// Track cart updates
Minimal.trackEvent('add_to_cart', {
  items: cartItems,
  total: cartTotal
});

// Pre-fill checkout questions
Minimal.setContext({
  cartValue: 299.99,
  items: ['Widget A', 'Widget B']
});`} />

        <h3 class="text-2xl text-[var(--text-primary)] font-semibold mb-4 mt-8">User Identification</h3>
        <p class="text-lg text-[var(--text-secondary)] leading-relaxed mb-4">Identify returning users:</p>
        <CodeBlock code={`// Set user information
Minimal.identify({
  userId: 'user_123',
  email: 'john@example.com',
  name: 'John Doe',
  plan: 'premium',
  customAttributes: {
    signupDate: '2024-01-15',
    lastPurchase: '2024-03-20'
  }
});`} />
      </div>
    </ContentSection>

    <ContentSection background="secondary">
      <div class="max-w-4xl mx-auto">
        <h2 class="text-3xl lg:text-4xl mb-6 text-[var(--text-primary)] font-bold">Third-Party Integrations</h2>
        <p class="text-lg text-[var(--text-secondary)] leading-relaxed mb-8">Connect Minimal with your favorite tools:</p>

        <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
          <div class="bg-[var(--bg-primary)] border border-[var(--border-primary)] rounded-xl p-6">
            <h3 class="text-xl text-[var(--text-primary)] font-semibold mb-3">ðŸ“Š Analytics</h3>
            <ul class="space-y-2 text-[var(--text-secondary)]">
              <li>â€¢ Google Analytics</li>
              <li>â€¢ Mixpanel</li>
              <li>â€¢ Segment</li>
              <li>â€¢ Amplitude</li>
            </ul>
          </div>

          <div class="bg-[var(--bg-primary)] border border-[var(--border-primary)] rounded-xl p-6">
            <h3 class="text-xl text-[var(--text-primary)] font-semibold mb-3">ðŸ’¼ CRM</h3>
            <ul class="space-y-2 text-[var(--text-secondary)]">
              <li>â€¢ Salesforce</li>
              <li>â€¢ HubSpot</li>
              <li>â€¢ Pipedrive</li>
              <li>â€¢ Zoho CRM</li>
            </ul>
          </div>

          <div class="bg-[var(--bg-primary)] border border-[var(--border-primary)] rounded-xl p-6">
            <h3 class="text-xl text-[var(--text-primary)] font-semibold mb-3">ðŸ“§ Email Marketing</h3>
            <ul class="space-y-2 text-[var(--text-secondary)]">
              <li>â€¢ Mailchimp</li>
              <li>â€¢ SendGrid</li>
              <li>â€¢ ConvertKit</li>
              <li>â€¢ ActiveCampaign</li>
            </ul>
          </div>

          <div class="bg-[var(--bg-primary)] border border-[var(--border-primary)] rounded-xl p-6">
            <h3 class="text-xl text-[var(--text-primary)] font-semibold mb-3">ðŸ’¬ Support</h3>
            <ul class="space-y-2 text-[var(--text-secondary)]">
              <li>â€¢ Zendesk</li>
              <li>â€¢ Intercom</li>
              <li>â€¢ Freshdesk</li>
              <li>â€¢ Help Scout</li>
            </ul>
          </div>
        </div>

        <div class="mt-8 bg-gradient-to-r from-purple-500/10 to-green-500/10 border border-[var(--brand-purple-primary)] rounded-xl p-6">
          <h3 class="text-xl text-[var(--text-primary)] font-semibold mb-3">ðŸ”Œ Zapier Integration</h3>
          <p class="text-[var(--text-secondary)] leading-relaxed">Connect Minimal to 5,000+ apps using Zapier. Trigger actions, sync data, and automate workflows without writing code.</p>
        </div>
      </div>
    </ContentSection>

    <ContentSection>
      <div class="max-w-3xl mx-auto text-center">
        <h2 class="text-3xl lg:text-4xl mb-6 text-[var(--text-primary)] font-bold">Need Integration Help?</h2>
        <p class="text-lg text-[var(--text-secondary)] leading-relaxed mb-8">Our team can help with custom integrations and technical setup.</p>
        <div class="flex flex-col sm:flex-row gap-4 justify-center">
          <Button variant="primary" size="lg" href="/help">
            View Documentation
          </Button>
          <Button variant="secondary" size="lg" href="/contact">
            Contact Support
          </Button>
        </div>
      </div>
    </ContentSection>
  </main>

  <Footer locale={locale} />
</BaseLayout>
